import{K as x,b as w,u as k,j as t,E as C}from"./index-IzgevGT8.js";import{r as u}from"./vendor-DJ1oPbzn.js";const g=({className:s,selector:r,keyPressed:e,callback:c})=>{u.useEffect(()=>{const o=l=>{if(l.key!==e)return;(document.querySelector(`${r}.${s}:focus`)||document.querySelector(`${r}.${s}`))&&c()};return window.addEventListener(x,o),()=>{window.removeEventListener(x,o)}},[c,s,r,e])},_=({interaction:s,onInteraction:r,interactionState:e,onSubmit:c,isSubmitTriggered:o})=>{const[l,n]=u.useState(""),[a,i]=u.useState(!1),[h,f]=u.useState(!1),{t:p}=w(),v=k("correct-checkmark"),b=u.useRef(null),m=u.useCallback(()=>{if(l.trim()===""){r({isCorrect:!1,isEmpty:!0});return}const d=s.correctnessFunction?s.correctnessFunction(+l):!0;r({isCorrect:d,isEmpty:!1,value:l})},[l,s,r]),E=d=>{const y=d.target.value;n(y),m()};return u.useEffect(()=>{r({isCorrect:!1,isEmpty:!0}),m()},[r,m]),u.useEffect(()=>{(o||e!=null&&e.isCorrect)&&(i(!0),e!=null&&e.isCorrect&&e.value&&n(e.value))},[e,o]),g({className:"interactive-input-box",selector:"input[type='number']",keyPressed:C,callback:()=>{h&&c()}}),t.jsx("div",{className:"relative mt-5",children:t.jsxs("div",{className:"w-full flex gap-x-3 items-center interactive-input-box",children:[s.prefixText&&t.jsx("div",{dangerouslySetInnerHTML:{__html:s.prefixText}}),t.jsx("input",{ref:b,type:"number",className:`interactive-input-box w-full mb-2 border rounded-[0.125rem] text-1.5xl font-medium px-4 py-[6px] ${a?"bg-gray-100 border-gray-300 text-gray-700 cursor-not-allowed pr-12":"border-[#333333]"}`,placeholder:p("scenes.common.enter_answer"),"aria-label":p("scenes.common.enter_answer"),tabIndex:0,value:l,onChange:E,disabled:a,onFocus:()=>{f(!0)},onBlur:()=>{f(!1)}}),a&&t.jsx("div",{className:"absolute right-3 top-[45%] transform -translate-y-1/2",children:t.jsx(v,{})})]})})};export{_ as default};
